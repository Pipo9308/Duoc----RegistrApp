<!-- curso-estudiante.page.html -->
<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ curso?.nombre || 'Curso' }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- Detalles del curso -->
  <ion-card *ngIf="curso">
    <ion-card-header>
      <ion-card-title>Detalles del Curso</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>{{ curso.descripcion }}</p>
    </ion-card-content>
  </ion-card>

  <!-- Lista de clases del curso -->
  <ion-card *ngIf="clases.length > 0">
    <ion-card-header>
      <ion-card-title>Clases del Curso</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item *ngFor="let clase of clases">
          <ion-label>
            <h2>{{ clase.nombre }}</h2>
            <p>Fecha: {{ clase.fecha }}</p>
            <p>Hora de inicio: {{ clase.hora_inicio }}</p>
            <p>Hora de término: {{ clase.hora_termino }}</p>
          </ion-label>
          <!-- Botón para registrar asistencia -->
          <ion-button (click)="registrarAsistencia(clase.codigo)" color="primary">
            Registrar Asistencia
          </ion-button>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <!-- Mensaje en caso de no tener clases -->
  <ion-card *ngIf="clases.length === 0">
    <ion-card-header>
      <ion-card-title>No hay clases programadas</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>Este curso aún no tiene clases programadas.</p>
    </ion-card-content>
  </ion-card>

  <!-- Botón para ver la asistencia -->
  <ion-button (click)="verAsistencia()" fill="outline" color="primary">
    <ion-icon slot="start" name="clipboard-outline"></ion-icon>
    Ver Asistencia
  </ion-button>
</ion-content>
