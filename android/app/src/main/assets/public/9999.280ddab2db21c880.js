"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9999],{9999:(_,i,o)=>{o.r(i),o.d(i,{CapacitorBarcodeScannerWeb:()=>S});var l=o(467),m=o(7464),b=o(5993),p=o(9811);class S extends m.E_{stopAndHideScanner(){return(0,l.A)(function*(){console.log(window.OSBarcodeWebScanner),window.OSBarcodeWebScanner&&(yield window.OSBarcodeWebScanner.stop(),window.OSBarcodeWebScanner=null),document.getElementById("cap-os-barcode-scanner-container-dialog").style.display="none"})()}buildScannerElement(){if(document.getElementById("cap-os-barcode-scanner-container"))return void(document.getElementById("cap-os-barcode-scanner-container").className="scanner-container-display");const n=document.body.appendChild(document.createElement("div"));n.id="cap-os-barcode-scanner-container";const e=document.createElement("div");e.id="cap-os-barcode-scanner-container-dialog",e.className="scanner-dialog";const a=document.createElement("div");a.className="scanner-dialog-inner";const r=document.createElement("span");r.className="close-button",r.innerHTML="&times;",a.appendChild(r);const d=document.createElement("p");d.innerHTML="&nbsp;",a.appendChild(d);const c=document.createElement("div");c.className="scanner-container-full-width",c.id="cap-os-barcode-scanner-container-scanner",a.appendChild(c),e.appendChild(a),n.appendChild(e),r.onclick=this.stopAndHideScanner}scanBarcode(n){var e=this;return(0,l.A)(function*(){return e.buildScannerElement(),document.getElementById("cap-os-barcode-scanner-container-dialog").style.display="block",new Promise((a,r)=>{var d,c;const u={facingMode:1===n.cameraDirection?"environment":"user",hasScannerButton:!1,scanButton:void 0!==n.scanButton&&n.scanButton,showScanLine:!1,scanInstructions:n.scanInstructions?n.scanInstructions:"",orientation:n.scanOrientation?n.scanOrientation:p.UO.PORTRAIT,showCameraSelection:!(null===(d=n.web)||void 0===d||!d.showCameraSelection)&&n.web.showCameraSelection,typeHint:17===n.hint?void 0:n.hint,scannerFPS:null!==(c=n.web)&&void 0!==c&&c.scannerFPS?n.web.scannerFPS:50},s=document.getElementById("cap-os-barcode-scanner-container-scanner");if(!s)throw new Error("Scanner Element is required for web");window.OSBarcodeWebScanner=new b.j9(s.id);const E={fps:u.scannerFPS,qrbox:s.getBoundingClientRect().width*(9/16)-10,aspectRatio:16/9,videoConstraints:{focusMode:"continuous",height:{min:576,ideal:1920},deviceId:void 0,facingMode:void 0}};window.OSBarcodeWebScanner.start({facingMode:u.facingMode},E,(t,B)=>{e.stopAndHideScanner(),a({ScanResult:t})},t=>{-1===t.indexOf("NotFoundException")&&(e.stopAndHideScanner(),console.error(`[Scanner Web Error] ${t}`),r(t))})})})()}}}}]);